### YamlMime:DocDB
type: View
id: view.humanresources.vemployeedepartmenthistory
description: Returns employee name and current and previous departments.
createdAt: 2023-05-08T12:07:39.4630000
lastModifiedAt: 2023-05-08T12:07:39.4630000
name: HumanResources.vEmployeeDepartmentHistory
title: 
indexes: []
columns:
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.businessentityid
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: BusinessEntityID
  dataType: INT
  maxLengthBytes: 4
  precision: 10
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.title
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: Title
  dataType: NVARCHAR(8)
  maxLengthBytes: 8
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.firstname
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: FirstName
  dataType: NAME
  maxLengthBytes: 50
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.middlename
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: MiddleName
  dataType: NAME
  maxLengthBytes: 50
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.lastname
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: LastName
  dataType: NAME
  maxLengthBytes: 50
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.suffix
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: Suffix
  dataType: NVARCHAR(10)
  maxLengthBytes: 10
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.shift
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: Shift
  dataType: NAME
  maxLengthBytes: 50
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.department
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: Department
  dataType: NAME
  maxLengthBytes: 50
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.groupname
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: GroupName
  dataType: NAME
  maxLengthBytes: 50
  precision: 0
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.startdate
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: StartDate
  dataType: DATE
  maxLengthBytes: 3
  precision: 10
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
- type: ViewColumn
  id: view.humanresources.vemployeedepartmenthistory.column.enddate
  description: 
  createdAt: 0001-01-01T00:00:00.0000000
  lastModifiedAt: 0001-01-01T00:00:00.0000000
  name: EndDate
  dataType: DATE
  maxLengthBytes: 3
  precision: 10
  scale: 0
  isComputed: false
  computedText: ''
  isIdentity: false
  identityIncrement: 0
  identitySeed: 0
  inPrimaryKey: false
  isForeignKey: false
  default: 
  script: ""
script: |+
  SET ANSI_NULLS ON
  GO

  SET QUOTED_IDENTIFIER ON
  GO

  CREATE VIEW [HumanResources].[vEmployeeDepartmentHistory]
  AS
  SELECT
      e.[BusinessEntityID]
      ,p.[Title]
      ,p.[FirstName]
      ,p.[MiddleName]
      ,p.[LastName]
      ,p.[Suffix]
      ,s.[Name] AS [Shift]
      ,d.[Name] AS [Department]
      ,d.[GroupName]
      ,edh.[StartDate]
      ,edh.[EndDate]
  FROM [HumanResources].[Employee] e
  	INNER JOIN [Person].[Person] p
  	ON p.[BusinessEntityID] = e.[BusinessEntityID]
      INNER JOIN [HumanResources].[EmployeeDepartmentHistory] edh
      ON e.[BusinessEntityID] = edh.[BusinessEntityID]
      INNER JOIN [HumanResources].[Department] d
      ON edh.[DepartmentID] = d.[DepartmentID]
      INNER JOIN [HumanResources].[Shift] s
      ON s.[ShiftID] = edh.[ShiftID];

  GO

